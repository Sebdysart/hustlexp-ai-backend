name: Financial Kernel Guard

on:
  pull_request:
    paths:
      - 'src/services/ledger/**'
      - 'src/services/StripeMoneyEngine.ts'
      - 'src/infra/recovery/**'
      - 'src/infra/ordering/**'
      - 'src/infra/KillSwitch.ts'

jobs:
  kernel-change-alert:
    runs-on: ubuntu-latest
    steps:
      - name: Kernel Change Detected
        run: |
          echo "⚠️ FINANCIAL KERNEL MODIFICATION DETECTED"
          echo ""
          echo "This PR modifies frozen financial code."
          echo "See FINANCIAL_KERNEL_LOCK.md for requirements."
          echo ""
          echo "Required before merge:"
          echo "  1. Explicit approval with justification"
          echo "  2. Full crash test suite pass"
          echo "  3. Phase 10 re-certification"
          exit 1
